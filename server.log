[2025-08-23T11:49:05.674Z] Request: GET /products
  Query: {}
  Body: undefined
  Token: INVALID - jwt malformed
[2025-08-23T11:49:06.568Z] Request: GET /suppliers/f2d16218-a73e-4196-8133-f6c52b5283e5/products
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"2a3e212b-7ee8-4108-8776-a2a1ecbeba55","name":"Test User","email":"supplier0@example.com","iat":1755949746,"exp":1755953346}
[2025-08-23T11:49:06.802Z] Request: GET /suppliers/8ce1edd3-38eb-4d6f-ae67-449318187203/products
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"6095c36a-b223-41f3-a0b1-8547b9646844","name":"Test User","email":"supplier1@example.com","iat":1755949746,"exp":1755953346}
[2025-08-23T11:49:07.023Z] Request: GET /suppliers/a-non-existent-id/products
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"0fdebbd6-fa53-4c5d-8e16-6a8657c8da96","name":"Test User","email":"supplier2@example.com","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.583Z] Request: POST /auth/register
  Query: {}
  Body: {"name":"Product Test Admin","email":"product-test-admin@example.com","password":"password123","role":"Admin"}
  Token: NOT PROVIDED
[2025-08-23T11:49:07.713Z] Request: POST /auth/login
  Query: {}
  Body: {"email":"product-test-admin@example.com","password":"password123"}
  Token: NOT PROVIDED
[2025-08-23T11:49:07.827Z] Request: POST /products
  Query: {}
  Body: {"name":"Test Wireless Mouse","category":"Electronics","price":29.99,"costPrice":18.5,"lowStockThreshold":15,"barcode":"9876543210123","sku":"TWM-001"}
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.838Z] Request: POST /products
  Query: {}
  Body: {"name":"Test Shoes","category":"Footwear","price":120,"color":"Red","sizes":[9,10,11],"sku":"SHOE-RED-TEST"}
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.847Z] Request: POST /products
  Query: {}
  Body: {"name":"Test Mouse for GET","category":"Electronics","price":35.99}
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.853Z] Request: GET /products/b09d237e-4cc5-4ca8-852a-a08745bdcd1a
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.860Z] Request: POST /products
  Query: {}
  Body: {"name":"Test Mouse to Update","category":"Peripherals","price":40}
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.865Z] Request: PUT /products/e64720b4-8193-4920-975c-377656899725
  Query: {}
  Body: {"price":38.5,"lowStockThreshold":12}
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.871Z] Request: GET /products/e64720b4-8193-4920-975c-377656899725
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.878Z] Request: POST /products
  Query: {}
  Body: {"name":"Test Mouse to Delete","category":"Disposable","price":5}
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.882Z] Request: DELETE /products/945bb427-4b64-441e-8a49-82303ec729a6
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.884Z] Deleting product 945bb427-4b64-441e-8a49-82303ec729a6 for user d64f413b-435d-4ccf-b733-44aa4039dfc0 from key s:user:d64f413b-435d-4ccf-b733-44aa4039dfc0:products
[2025-08-23T11:49:07.886Z] Delete result: 1
[2025-08-23T11:49:07.890Z] Request: GET /products/945bb427-4b64-441e-8a49-82303ec729a6
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.896Z] Request: POST /products
  Query: {}
  Body: {"name":"Product A"}
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.901Z] Request: POST /products
  Query: {}
  Body: {"name":"Product B"}
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:07.906Z] Request: GET /products
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"d64f413b-435d-4ccf-b733-44aa4039dfc0","name":"Product Test Admin","email":"product-test-admin@example.com","role":"Admin","iat":1755949747,"exp":1755953347}
[2025-08-23T11:49:08.696Z] Request: POST /customers
  Query: {}
  Body: {"name":"Test Customer","email":"customer@test.com","phone":"123-456-7890"}
  Token: VALID
  User: {"id":"0712c482-24e1-41c7-9092-265f49886256","name":"Customer Test Admin","email":"customer-test-admin@example.com","role":"admin","iat":1755949748,"exp":1755953348}
[2025-08-23T11:49:08.709Z] Request: POST /customers
  Query: {}
  Body: {"name":"Test Customer for GET","email":"customerget@test.com"}
  Token: VALID
  User: {"id":"0712c482-24e1-41c7-9092-265f49886256","name":"Customer Test Admin","email":"customer-test-admin@example.com","role":"admin","iat":1755949748,"exp":1755953348}
[2025-08-23T11:49:08.714Z] Request: GET /customers/62370bdf-de05-4520-80c5-b9dfab48a6ca
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"0712c482-24e1-41c7-9092-265f49886256","name":"Customer Test Admin","email":"customer-test-admin@example.com","role":"admin","iat":1755949748,"exp":1755953348}
[2025-08-23T11:49:08.722Z] Request: POST /customers
  Query: {}
  Body: {"name":"Test Customer to Update","email":"customerupdate@test.com"}
  Token: VALID
  User: {"id":"0712c482-24e1-41c7-9092-265f49886256","name":"Customer Test Admin","email":"customer-test-admin@example.com","role":"admin","iat":1755949748,"exp":1755953348}
[2025-08-23T11:49:08.728Z] Request: PUT /customers/4c48f6ef-2c51-4dd5-802f-950803dc7445
  Query: {}
  Body: {"name":"Updated Customer Name","phone":"987-654-3210"}
  Token: VALID
  User: {"id":"0712c482-24e1-41c7-9092-265f49886256","name":"Customer Test Admin","email":"customer-test-admin@example.com","role":"admin","iat":1755949748,"exp":1755953348}
[2025-08-23T11:49:08.733Z] Request: GET /customers/4c48f6ef-2c51-4dd5-802f-950803dc7445
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"0712c482-24e1-41c7-9092-265f49886256","name":"Customer Test Admin","email":"customer-test-admin@example.com","role":"admin","iat":1755949748,"exp":1755953348}
[2025-08-23T11:49:08.745Z] Request: POST /customers
  Query: {}
  Body: {"name":"Test Customer to Delete","email":"customerdelete@test.com"}
  Token: VALID
  User: {"id":"0712c482-24e1-41c7-9092-265f49886256","name":"Customer Test Admin","email":"customer-test-admin@example.com","role":"admin","iat":1755949748,"exp":1755953348}
[2025-08-23T11:49:08.750Z] Request: DELETE /customers/eaa908ee-be2c-4d0f-b714-8c42b210022a
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"0712c482-24e1-41c7-9092-265f49886256","name":"Customer Test Admin","email":"customer-test-admin@example.com","role":"admin","iat":1755949748,"exp":1755953348}
[2025-08-23T11:49:08.757Z] Request: GET /customers/eaa908ee-be2c-4d0f-b714-8c42b210022a
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"0712c482-24e1-41c7-9092-265f49886256","name":"Customer Test Admin","email":"customer-test-admin@example.com","role":"admin","iat":1755949748,"exp":1755953348}
[2025-08-23T11:49:08.764Z] Request: POST /customers
  Query: {}
  Body: {"name":"Customer A","email":"a@test.com"}
  Token: VALID
  User: {"id":"0712c482-24e1-41c7-9092-265f49886256","name":"Customer Test Admin","email":"customer-test-admin@example.com","role":"admin","iat":1755949748,"exp":1755953348}
[2025-08-23T11:49:08.769Z] Request: POST /customers
  Query: {}
  Body: {"name":"Customer B","email":"b@test.com"}
  Token: VALID
  User: {"id":"0712c482-24e1-41c7-9092-265f49886256","name":"Customer Test Admin","email":"customer-test-admin@example.com","role":"admin","iat":1755949748,"exp":1755953348}
[2025-08-23T11:49:08.774Z] Request: GET /customers
  Query: {}
  Body: undefined
  Token: VALID
  User: {"id":"0712c482-24e1-41c7-9092-265f49886256","name":"Customer Test Admin","email":"customer-test-admin@example.com","role":"admin","iat":1755949748,"exp":1755953348}
[2025-08-23T11:49:10.044Z] Request: GET /products/error
  Query: {}
  Body: undefined
  Token: NOT PROVIDED
[2025-08-23T11:49:10.067Z] [ERROR] Error occurred during request: GET /products/error
  Query: {}
  Body: undefined
  Error: This is a test error.
  Stack: Error: This is a test error.
    at /app/src/routes/productRoutes.js:17:15
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)
    at handle (/app/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at /app/node_modules/router/index.js:295:15
    at processParams (/app/node_modules/router/index.js:582:12)
    at next (/app/node_modules/router/index.js:291:5)
    at Function.handle (/app/node_modules/router/index.js:186:3)
    at router (/app/node_modules/router/index.js:60:12)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at trimPrefix (/app/node_modules/router/index.js:342:13)
    at /app/node_modules/router/index.js:297:9
    at processParams (/app/node_modules/router/index.js:582:12)
    at next (/app/node_modules/router/index.js:291:5)
    at loggingMiddleware (/app/src/middleware/loggingMiddleware.js:37:3)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at trimPrefix (/app/node_modules/router/index.js:342:13)
    at /app/node_modules/router/index.js:297:9
    at processParams (/app/node_modules/router/index.js:582:12)
    at next (/app/node_modules/router/index.js:291:5)
    at jsonParser (/app/node_modules/body-parser/lib/types/json.js:100:7)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at trimPrefix (/app/node_modules/router/index.js:342:13)
    at /app/node_modules/router/index.js:297:9
    at processParams (/app/node_modules/router/index.js:582:12)
    at next (/app/node_modules/router/index.js:291:5)
    at cors (/app/node_modules/cors/lib/index.js:188:7)
    at /app/node_modules/cors/lib/index.js:224:17
    at originCallback (/app/node_modules/cors/lib/index.js:214:15)
    at /app/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/app/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/app/node_modules/cors/lib/index.js:204:7)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at trimPrefix (/app/node_modules/router/index.js:342:13)
    at /app/node_modules/router/index.js:297:9
    at processParams (/app/node_modules/router/index.js:582:12)
    at next (/app/node_modules/router/index.js:291:5)
    at Function.handle (/app/node_modules/router/index.js:186:3)
    at Function.handle (/app/node_modules/express/lib/application.js:177:15)
    at Server.app (/app/node_modules/express/lib/express.js:38:9)
    at Server.emit (node:events:518:28)
    at parserOnIncoming (node:_http_server:1155:12)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)
